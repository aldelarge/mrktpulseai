{% block styles %}
<style>
    .snapshot {
        position: relative;
        text-align: left;
        color: #f8f9fa;
        font-size: 0.95rem;
        line-height: 1.5;
    }
    
  
    .snapshot p {
      color: white !important; /* you forgot the # */
    }
    .text-glow-green {
        /* color: #00ff00 !important; */
        text-shadow: 0 0 12px rgba(0, 255, 0, 0.5);
    }
    .text-soft-glow {
    color: #adb1bb;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.08);
    }

    .text-purple-soft-glow {
    color: #a78bfa;
    text-shadow: 0 0 4px rgba(167, 139, 250, 0.12);
    }

    .chaos-side, .clarity-side {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: stretch;
    padding: 16px;
    min-height: 100%;
}

.ticker-row {
    overflow: hidden;
    display: flex;
    white-space: nowrap;
    position: relative;
    padding: 5px 0;
}

.ticker-content {
    display: inline-flex;
    gap: 20px;
    animation: scrollTicker linear infinite;
}

.ticker-content.clone {
    position: absolute;
    left: 100%;
}

.ticker {
    padding: 6px 10px;
    background: rgba(0, 255, 0, 0.1);
    border-radius: 4px;
    font-size: 0.9rem;
}

.ticker.red { color: #ff4d4d; }
.ticker.green { color: #00ff00; }
.ticker.yellow { color: #ffd700; }

@keyframes scrollTicker {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

.clarity-side {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
}

.clarity-container {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    flex-grow: 1;
    background: linear-gradient(135deg, rgba(34, 34, 34, 0.7), rgba(54, 54, 54, 0.7));
    backdrop-filter: blur(12px);
    border-radius: 16px;
    box-shadow: 0px 10px 30px rgba(0, 255, 0, 0.15);
    padding: 24px;
    position: relative;
}

.insight-card {
    display: flex;
    align-items: center;
    gap: 15px;
    background: rgba(255, 255, 255, 0.05);
    padding: 12px 16px;
    border-radius: 12px;
    margin-bottom: 16px;
    transition: background 0.3s, transform 0.3s;
}

.insight-card:hover {
    background: rgba(0, 255, 0, 0.1);
    transform: scale(1.02);
}

.insight-icon {
    font-size: 1.5rem;
    color: #00ff00;
    background: rgba(255, 255, 255, 0.1);
    padding: 10px;
    border-radius: 50%;
}

.insight-content {
    flex-grow: 1;
}

.insight-title {
    font-size: 1rem;
    font-weight: 600;
    color: #00ff00;
    margin-bottom: 4px;
}

.text-soft-glow {
    color: #adb1bb;
    text-shadow: 0px 0px 5px rgba(255, 255, 255, 0.05);
    font-size: 0.9rem;
}

/* New Background Pulse for Chaos Side */
.chaos-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 255, 0, 0.05);
    z-index: -1;
    animation: pulseBackground 6s infinite alternate;
}
.chaos-footer {
    margin-top: auto;
    padding-top: 16px;
    text-align: center;
}

.chaos-footer p {
    font-size: 1.2rem;
    line-height: 1.2;
}

@keyframes pulseBackground {
    0% { opacity: 0.1; }
    100% { opacity: 0.25; }
}


  </style>
{% endblock %}

{% extends "base.html" %}

{% block content %}
        <div class="container-fluid">

            <!-- Hero Section: AI-powered and Stock Insights -->
            <div class="row justify-content-center text-center hero-section fullpage">
                <div class="col-md-8">
                    <h1 class="hero-title text-glow-green">
                        Stop Trading Blind. <br>
                        Use AI.
                    </h1>

                    <p class="lead hero-description mt-3">
                        Forget the noise. Our AI scans <strong>news, momentum, and sentiment</strong> for your stocks. Get a simple breakdown every day after market close — straight to the point.
                    </p>
                    <a class="btn cta-button" href="{{ url_for('routes.signup') }}">
                        Get My AI Insights
                    </a>

                    <p class="text-muted mt-3">
                        Personalized for your stocks. Delivered at market close.
                    </p>
                </div>
            </div>

                
                <!-- Scroll Arrow -->
                <div class="scroll-arrow">
                    <i class="fas fa-arrow-down"></i>
                </div>
            </div>
        </div>
        <br>

        <div class="container-fluid fullpage mt-4">
            <div class="row justify-content-center text-center">
                <div class="col-md-10">
                    <h2 class="text-glow-green mb-3"><i>From Chaos to Clear Signals</i></h2>
                    <p class="lead text-soft-glow">
                        AI scans the noise, tracks key signals, and delivers only what matters — all without you lifting a finger.
                    </p>
                </div>
            </div>
        
            <div class="row align-items-stretch mt-4">
                <!-- Chaos Side -->
                <div class="col-md-6 px-2 chaos-side">
                    <div class="overlay_blur chaos-container">
                        <div class="chaos-background"></div> <!-- Background Filler -->
        
                        <h3 class="text-glow-green mb-2"><i>Market Chaos</i></h3>
        
                        <!-- 10 Rows of Scrolling Data with Different Speeds -->
                        <div class="ticker-row" data-speed="10">
                            <div class="ticker-content">
                                <span class="ticker red">AAPL 176.50 ▼ 1.2%</span>
                                <span class="ticker green">TSLA 222.00 ▲ 3.5%</span>
                                <span class="ticker red">OXY 55.00 ▲ 12.0%</span>
                                <span class="ticker yellow">Fed Rate Hike...</span>
                            </div>
                        </div>
        
                        <div class="ticker-row" data-speed="8">
                            <div class="ticker-content">
                                <span class="ticker green">Tech Rebounds 2%</span>
                                <span class="ticker red">China Trade Deal Fails...</span>
                                <span class="ticker yellow">Gold Surges 5%</span>
                                <span class="ticker red">Recession Fears Grow...</span>
                            </div>
                        </div>
        
                        <div class="ticker-row" data-speed="12">
                            <div class="ticker-content">
                                <span class="ticker green">Oil Spikes Amid Sanctions</span>
                                <span class="ticker yellow">Earnings Beat...</span>
                                <span class="ticker red">Market Plunge -2%</span>
                                <span class="ticker green">Banking Rally...</span>
                            </div>
                        </div>
        
                        <div class="ticker-row" data-speed="14">
                            <div class="ticker-content">
                                <span class="ticker red">Crypto Crash -5%</span>
                                <span class="ticker yellow">Tech Layoffs Increase...</span>
                                <span class="ticker green">Energy Surges 4%</span>
                                <span class="ticker red">S&P Drops 2%</span>
                            </div>
                        </div>
        
                        <div class="ticker-row" data-speed="7">
                            <div class="ticker-content">
                                <span class="ticker yellow">Gold Surges 5%</span>
                                <span class="ticker red">Recession Fears Grow...</span>
                                <span class="ticker green">Tech Rebounds 2%</span>
                                <span class="ticker red">China Trade Deal Fails...</span>
                            </div>
                        </div>
        
                        <div class="ticker-row" data-speed="9">
                            <div class="ticker-content">
                                <span class="ticker green">Big Earnings Day...</span>
                                <span class="ticker red">Market Volatility...</span>
                                <span class="ticker yellow">Energy Spike...</span>
                                <span class="ticker red">Bond Yields Drop...</span>
                            </div>
                        </div>
        
                        <div class="ticker-row" data-speed="13">
                            <div class="ticker-content">
                                <span class="ticker red">Economic Collapse?</span>
                                <span class="ticker green">Job Data Beats...</span>
                                <span class="ticker yellow">Oil Dips 2%...</span>
                                <span class="ticker red">Fed Panic...</span>
                            </div>
                        </div>
        
                        <div class="ticker-row" data-speed="11">
                            <div class="ticker-content">
                                <span class="ticker green">Crypto Rises 10%</span>
                                <span class="ticker red">Housing Market Drops...</span>
                                <span class="ticker yellow">Gold Down 2%...</span>
                                <span class="ticker green">Earnings Surprises...</span>
                            </div>
                        </div>
                    </div>
                </div>
        
              <!-- Clarity Side -->
<div class="col-md-6 px-2 clarity-side">
    <div class="overlay_blur clarity-container">
        <h3 class="text-glow-green mb-3"><i>AI Clarity</i></h3>

        <!-- Insight Card 1 - Macroeconomic Outlook -->
        <div class="insight-card">
            <div class="insight-icon">
                <i class="fas fa-chart-bar"></i>
            </div>
            <div class="insight-content">
                <h4 class="insight-title">Jobless Claims Spike</h4>
                <p class="text-soft-glow">
                    Unemployment claims hit 241,000, the highest since January. AI signals potential impact on consumer stocks.
                </p>
                <span class="text-glow-green">+5% VXX (Volatility Index)</span>
            </div>
        </div>

        <!-- Insight Card 2 - TSLA Breakdown Analysis -->
        <div class="insight-card">
            <div class="insight-icon">
                <i class="fas fa-bullseye"></i>
            </div>
            <div class="insight-content">
                <h4 class="insight-title">TSLA Testing Support</h4>
                <p class="text-soft-glow">
                    $220 resistance rejected. AI watching for potential pullback to $200.
                </p>
                <span class="text-glow-green">-3% since last session</span>
            </div>
        </div>

        <!-- Insight Card 4 - Tech vs. Healthcare Divergence -->
        <div class="insight-card">
            <div class="insight-icon">
                <i class="fas fa-exchange-alt"></i>
            </div>
            <div class="insight-content">
                <h4 class="insight-title">Sector Divergence</h4>
                <p class="text-soft-glow">
                    Tech gains 1.2% on AI momentum. Healthcare lags, dropping 2.5% as tariff concerns hit consumer spending.
                </p>
                <span class="text-glow-green">XLK +1.2% | XLV -2.5%</span>
            </div>
        </div>
    </div>
</div>







                
            </div>
        </div>
        
        <br>
        <!-- Personalized AI Stock Snapshot -->
        <div class="container fullpage mt-5">
            <div class="row justify-content-center">
                <div class="col-md-12">
                    <div class="styled-div overlay_blur text-center p-5 mb-4 rounded">
                        <h2 class="text-glow-green"><i>Your Stocks. Real AI Insights.</i></h2>
                        <p class="lead text-light">
                            Every day at market close, get a quick, actionable summary powered by real-time data and AI.
                        </p>
                        <p class="text-soft-glow">
                            Your AI co-pilot will track your stocks and deliver relevant updates — no fluff, just the data you need.
                        </p>
                        <hr class="divider3">
                
                        <div class="row g-4 align-items-start mt-4">
                            <!-- AAPL Snapshot -->
                            <div class="col-md-6 mb-4 mb-md-0">
                                <div class="overlay_blur2 p-4 rounded-4 h-100">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <h5 class="text-success fw-bold mb-0" id="snapshot-aapl-symbol">Loading...</h5>
                                        <p class="text-light mb-0 small" id="snapshot-aapl-price"></p>
                                    </div>
                                    <hr class="my-2" style="border-color: rgba(255,255,255,0.15);">
                                    <div id="snapshot-aapl-summary" class="pt-2">
                                        <p class="text-soft-glow small snapshot">Fetching analysis...</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- NVDA Snapshot -->
                            <div class="col-md-6">
                                <div class="overlay_blur2 p-4 rounded-4 h-100">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <h5 class="text-success fw-bold mb-0" id="snapshot-nvda-symbol">Loading...</h5>
                                        <p class="text-light mb-0 small" id="snapshot-nvda-price"></p>
                                    </div>
                                    <hr class="my-2" style="border-color: rgba(255,255,255,0.15);">
                                    <div id="snapshot-nvda-summary" class="pt-2">
                                        <p class="text-soft-glow small snapshot">Fetching analysis...</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container">
            <div class="container fullpage">
                <div class="row justify-content-center text-center">
                    <div class="container mt-5 text-center">
                        <h2 class="text-glow-green"><i>Traditional Analysis Misses the Mark</i></h2>
                        <p class="lead">
                            Analysts can’t catch everything. AI finds the insights that matter.
                        </p>
                        <p class="text-soft-glow">
                            Real-time data. No noise. Just actionable insights.
                        </p>
                    </div>
            
                <!-- AI Has No Bias -->
            <!-- AI Has No Bias -->
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="styled-div overlay_blur p-5 mb-1 rounded d-flex flex-md-row flex-column align-items-center text-md-start text-center">
                        <div class="icon-box me-md-4 mb-3 mb-md-0">
                            <i class="fas fa-robot fa-3x feature-icon"></i>
                        </div>
                        <div>
                            <h3><i>No Bias. No Hype. Just Data.</i></h3>
                            <hr class="divider3 mobile-divider">
                            <p class="text-soft-glow">
                                Analysts have opinions. AI delivers real-time facts. We track market news, stock movements, and sentiment shifts — without bias or distractions.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Speed & Scale -->
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="styled-div overlay_blur p-5 mb-1 rounded d-flex flex-md-row flex-column align-items-center text-md-start text-center">
                        <div class="icon-box me-md-4 mb-3 mb-md-0">
                            <i class="fas fa-chart-bar fa-3x feature-icon"></i>
                        </div>
                        <div>
                            <h3><i>Stay Ahead of the Market.</i></h3>
                            <hr class="divider3 mobile-divider">
                            <p class="text-soft-glow">
                                AI processes real-time data and detects trends immediately, so you stay ahead. No more reacting after the fact.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Designed for Investors -->
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="styled-div overlay_blur p-5 mb-1 rounded d-flex flex-md-row flex-column align-items-center text-md-start text-center">
                        <div class="icon-box me-md-4 mb-3 mb-md-0">
                            <i class="fas fa-eye fa-3x feature-icon"></i>
                        </div>
                        <div>
                            <h3><i>Actionable Insights, Not Clicks.</i></h3>
                            <hr class="divider3 mobile-divider">
                            <p class="text-soft-glow">
                                We deliver clear, actionable insights, not sensationalism. Focus on data that helps you make smarter decisions.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            </div>
            <br>
            <div class="row justify-content-center fullpage">
                <div class="col-md-6 text-center">
                    <h3 class="text-white"><i>Get Your Free Market Recap</i></h3>
                    <p class="lead text-light">
                        Receive a concise, AI-powered market recap every day at market close. No credit card required.
                    </p>
                    <a href="{{ url_for('routes.signup') }}" class="btn btn-primary btn-lg mt-3">Get My Free Recap</a>
                    <p class="text-muted mt-3">No card required. Just sign up and stay informed.</p>
                </div>
            </div>
            <br>
        </div>
        <br>
        <!-- How It Works Section: Process Explanation -->
        <div class="fullpage">
            <div class="row justify-content-center text-center mt-5">
                <div class="col-md-10">
                    <h2 class="mb-4 text-glow-green">
                        <i>How It Works</i>
                    </h2>
                    <p class="text-soft-glow">
                        Our AI system constantly analyzes the market, giving you real-time insights and data that matter. From tracking news and sentiment to detecting market movements, we break it all down into actionable information you can use right now.
                    </p>
                </div>
            </div>
            <br>
            <div class="row text-center">
                <div class="col-md-4 mb-4">
                    <div class="feature-card over">
                        <i class="fas fa-stream fa-4x feature-icon"></i>
                        <h3 class="border-bottom card_title text-glow-green">Collecting Data</h3>
                        <p class="text-soft-glow">
                            We pull in high-quality, real-time data from multiple sources — breaking news, stock performance, sentiment analysis, and more. This gives us the full picture of the market, so you don’t have to chase it.
                        </p>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="feature-card">
                        <i class="fas fa-cogs fa-4x feature-icon"></i>
                        <h3 class="border-bottom card_title text-glow-green">AI Processing</h3>
                        <p class="text-soft-glow">
                            The AI takes all the data, filters out the noise, and identifies the trends that matter — instantly. It’s fast, focused, and gets straight to the insights you need to make informed decisions.
                        </p>                    
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="feature-card">
                        <i class="fas fa-lightbulb fa-4x feature-icon"></i>
                        <h3 class="border-bottom card_title text-glow-green">Actionable Insights</h3>
                        <p class="text-soft-glow">
                            The insights are delivered straight to you. Clear, simple, and ready to act on. Whether it’s tracking stocks or catching trends before they blow up, our AI makes sure you have the edge you need.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <br>
        <!-- Call to Action -->
        <div class="row justify-content-center fullpage">
            <div class="col-md-6 text-center">
                <h3 class="text-white"><i>Stay Ahead of the Market</i></h3>
                <p class="lead light-gray-text">
                    Every weekday at market close, get a concise market recap—so you're always prepared for the next session.
                </p>

                <div class="styled-div overlay_blur p-4 mb-4 rounded">
                    <h4 class="text-white">What You Get:</h4>
                    <ul class="trust-points text-center">
                        <li><i class="fas fa-check-circle"></i> A data-driven newsletter, delivered daily</li>
                        <li><i class="fas fa-check-circle"></i> Personalized insights and updates on the stocks you follow</li>
                        <li><i class="fas fa-check-circle"></i> Key takeaways from earnings, trends, and news</li>
                        <li><i class="fas fa-check-circle"></i> Market insights without the noise</li>
                    </ul>
                    <a href="{{ url_for('routes.signup') }}" class="btn btn-primary btn-lg mt-3">Get Instant Access</a>
                    <p class="text-muted mt-3">Secure checkout • Just $9.99/month • Cancel anytime</p>
                </div>

            </div>
        </div>
    </div>
    <script>
        function fetchSnapshot(symbol, prefix) {
            fetch(`/landing_snapshot/${symbol}`)
                .then(res => res.json())
                .then(data => {
                const priceHtml = `${data.price} <span class="${data.change_percent.startsWith('+') ? 'text-success' : 'text-danger'}">(${data.change_percent})</span>`;
                document.getElementById(`${prefix}-symbol`).innerText = `${data.symbol} Snapshot`;
                document.getElementById(`${prefix}-price`).innerHTML = priceHtml;

                const summaryText = truncateMiddle(data.summary_text, 100, 65); // starts 100 words in, shows 50 words
                const summaryDiv = document.getElementById(`${prefix}-summary`);
                summaryDiv.innerHTML = `<div class="snapshot">${summaryText}</div>`;


                // ✅ Force style override to fix markdown-injected CSS
                const injectedTags = summaryDiv.querySelectorAll('*');
                injectedTags.forEach(tag => {
                    tag.style.color = '#f8f9fa';
                    tag.style.fontSize = '0.9rem';
                    tag.style.lineHeight = '1.5';
                });
                })
                .catch(error => {
                document.getElementById(`${prefix}-summary`).innerHTML = `<p class="text-danger small">⚠️ Failed to load snapshot.</p>`;
                console.error(`Snapshot error for ${symbol}:`, error);
                });
            }

        // ✅ Helper to cut after N words
            function truncateMiddle(str, startWord = 100, wordLimit = 50) {
            const words = str.split(' ');

            // If it's too short, just return from the beginning
            if (words.length <= startWord + wordLimit) {
                return words.slice(0, wordLimit).join(' ') + '...';
            }

            return '... ' + words.slice(startWord, startWord + wordLimit).join(' ') + ' ...';
        }
        // Call it like this:
        fetchSnapshot("AAPL", "snapshot-aapl");
        fetchSnapshot("NVDA", "snapshot-nvda");
        </script>

        <script>
document.addEventListener("DOMContentLoaded", () => {
    const tickerRows = document.querySelectorAll(".ticker-row");

    tickerRows.forEach(row => {
        const speed = row.getAttribute("data-speed");
        const content = row.querySelector(".ticker-content");

        // Clone the content for seamless looping
        const clone = content.cloneNode(true);
        row.appendChild(clone);

        const contentWidth = content.scrollWidth;

        // Ensure both sets are the same width and set animation duration
        content.style.width = `${contentWidth}px`;
        clone.style.width = `${contentWidth}px`;

        content.style.animationDuration = `${speed}s`;
        clone.style.animationDuration = `${speed}s`;

        // Adjust the animation duration to prevent overlap/glitching
        content.style.animationTimingFunction = "linear";
        clone.style.animationTimingFunction = "linear";
    });
});

        </script>
{% endblock %}
